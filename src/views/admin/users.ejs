<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Gugi&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/styles/style.css">
  <title>CartHend</title>
</head>
<body>
  <div id="campos-produto" class="flex jusitify-center flex-col"></div>
  <header class="flex items-center justify-between border-b-2 border-gray-100 mb-12 px-4 py-2">
    <a href="/admin/loja">
      <img src="/assets/header.png" />
    </a>

    <ul class="flex item-center justify-center">
      <li class="hover:bg-gray-100 transition-colors rounded flex items-center">
        <a href="/signin" class="p-4 text-sky-800 text-lg">
          Alugueis
        </a>
      </li>
      <li class="flex items-center">
        <div class="h-8 w-[2px] bg-sky-800 mx-2"></div>
      </li>
      <li class="hover:bg-gray-100 transition-colors rounded flex items-center">
        <a href="/loja/conta" class="p-4 text-sky-800 text-lg">
          Usuários
        </a>
      </li>
    </ul>
  </header>
  <div class="container mx-auto max-w-8xl">
    <div class="flex w-full flex-col mt-[60px]">
      <h1 class="text-orange-600 text-7xl text-center">Usuários</h1>
      <div class="flex justify-end">
        <a href="/admin/add-usuario" class="p-2 rounded hover:bg-sky-900 text-white transition-colors focus:ring-2 focus:ring-sky-500 border bg-sky-800">
          Adicionar usuário
        </a>
      </div>
    </div>
    <div class="w-full px-4 sm:px-8 w-full">
      <div class="py-8">
        <div class="-mx-4 sm:-mx-8 py-4 overflow-x-auto">
          <div
            class="inline-block min-w-full shadow-md rounded-lg overflow-hidden"
          >
          <input id="admins" type="hidden" value=<%= JSON.stringify(admins)%> />
            <table class="min-w-full leading-normal">
              <thead>
                <tr>
                  <th
                    class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"
                  >
                    Nome
                  </th>
                  <th
                    class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"
                  >
                    Email
                  </th>
                  <th
                    class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"
                  >
                    Telefone
                  </th>
                  <th
                    class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"
                  >
                    Login
                  </th>
                  <th
                    class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"
                  >
                    Senha
                  </th>
                  
                  <th
                    class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"
                  >
                    Editar
                  </th>
                </tr>
              </thead>
              <tbody>
                  <% admins.forEach(admin => { %>
                  <tr onclick="mostrarModal('<%= admin._id%>')" class="cursor-pointer hover:translate-y-[-1px] ease-linear duration-100">
                    <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
                      <%= admin.nome%>
                    </td>
                    <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
                      <%= admin.email%>
                    </td>
                    <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
                      <%= admin.telefone%>
                    </td>
                    <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
                      <%= admin.login%>
                    </td>
                    <td
                      class="px-5 py-5 border-b border-gray-200 bg-white text-sm"
                    >
                      ******
                    </td>
                 

                    <!-- <td
                      class="px-5 py-5 border-b border-gray-200 bg-white text-sm"
                    >
                    <div class="flex items-center justify-center">
                      <label for="toggleB" class="flex items-center cursor-pointer">
                        <div class="relative">
                          <input type="checkbox" id="toggleB" class="sr-only">
                          <div id="toggle" class="block bg-gray-600 w-14 h-7 rounded-full"></div>
                          <div id="dot-toggle" class="dot absolute left-1 top-1 bg-white w-5 h-5 rounded-full transition"></div>
                        </div>
                      </label>
                    </div>
                    </td> -->
                    <td
                    class="px-5 py-5 border-b border-gray-200 bg-white text-sm"
                  >
                    <div class="h-7 w-7">
                      <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z" />
                      </svg>
                    </div>
                  </td>
                </tr>
                <% }) %>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>
  <script>
    const camposProduto = document.querySelector('#campos-produto');
    const admins = document.querySelector('#admins');

    const adminToObject = JSON.parse(admins.value);
    let isHidden = false;

     function mostrarModal(id) {
        camposProduto.innerHTML = '';
        isHidden = !isHidden;
        const data = adminToObject.find(item => item._id === id);
        console.log(data);
    }
  </script>
</body>
</html>